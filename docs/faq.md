# FAQ（用户/玩家）

## 账号与登录
- **如何开始游戏？**
  进入首页，填写昵称并参加入学考试；通过后自动获得 JWT 登录凭证。
- **老玩家如何免试登录？**
  使用原昵称 + 学生凭证（token）执行“直接报到”。
- **提示黑名单或受限怎么办？**
  账号被列入黑名单或限制，请联系管理员申诉。
- **登录凭证遗失？**
  需要重新考试或联系管理员重置。

## 专业与进度
- **什么时候分配专业？**
  考试通过后调用 `/api/assign_major` 自动分配。
- **存档在哪里？**
  运行时状态在 Redis，持久化存档在 PostgreSQL，退出或主动保存时写入。
- **换设备会丢进度吗？**
  只要使用同一凭证/昵称并成功登录，进度会从服务器恢复。

## 大模型（LLM）
- **能否使用自定义模型？**
  可以。在登录页展开“自定义大模型”，填写模型代号和 API Key；仅本会话使用，不落库。
- **API Key 安全性？**
  仅保存在浏览器会话内并随 WebSocket 首条消息传递，服务器不持久化；请务必在 HTTPS 环境下使用。
- **未填写会怎样？**
  将使用平台默认模型。

## WebSocket 与心跳
- **为什么断线/被踢？**
  同一账号仅允许单连接；30s 心跳超时会清理；消息频率需 ≥50ms 间隔。
- **看到“auth_error”提示？**
  首条消息的 JWT 无效或账号受限，连接会被拒绝。

## 保存与退出
- **如何保存？**
  发送 `save_game` 动作可手动保存；`save_and_exit` 保存后退出；`exit_without_save` 不保存直接退出。
- **掉线会丢数据吗？**
  可能丢失最近一次保存后的少量进度，建议定期保存。

## 隐私与合规
- **备案信息**
  页脚展示备案号“浙ICP备2026007685号”并链接至工信部网站。
- **隐私政策同意**
  如输入自定义 API Key，即视为同意平台隐私政策并授权本会话使用。

## 部署/运维（简要）
- **如何重启服务？** `docker compose up -d --build`
- **数据库迁移？** `docker compose up -d migrate`（或手动 `alembic upgrade head`）
- **查看日志？** `docker compose logs -f backend`
